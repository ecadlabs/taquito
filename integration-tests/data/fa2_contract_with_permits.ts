export const fa2Contract_with_permits = `{
     parameter (or (pair %permit key
          (pair signature
                bytes))
(or (or (or (pair %transfer (address :from)
                        (pair (address :to)
                              (nat :value)))
        (pair %getBalance (address :owner)
                          (contract nat)))
    (or (pair %getTotalSupply unit
                              (contract nat))
        (bool %setPause)))
(or (or (address %setAdministrator)
        (pair %getAdministrator unit
                                (contract address)))
    (or (pair %mint (address :to)
                    (nat :value))
        (pair %burn (address :from)
                    (nat :value))))));
storage (pair (big_map address
     nat)
(pair (big_map address
           (set bytes))
  (pair (pair address
              bool)
        (pair nat
              nat))));
code { DUP;
CAR;
IF_LEFT { DUP;
CAR;
DUP;
DIP { SWAP;
     CDR;
     DUP;
     CAR;
     DIP { CDR;
           DUP;
           DIP { DIP { HASH_KEY;
                       IMPLICIT_ACCOUNT;
                       ADDRESS };
                 PAIR;
                 SWAP };
           SWAP;
           CDR;
           DUP;
           CDR;
           CDR;
           CDR;
           CDR;
           DIP { SWAP };
           PAIR;
           SELF;
           ADDRESS;
           CHAIN_ID;
           PAIR;
           PAIR;
           PACK } };
DIP { DIP { DUP } };
CHECK_SIGNATURE;
IF { DROP }
  { PUSH string "missigned";
    PAIR;
    FAILWITH };
SWAP;
DUP;
CAR;
DIP { DIP { DUP;
           CDR;
           CDR;
           CDR;
           CDR;
           PUSH nat 1;
           ADD;
           DIP { DUP;
                 CDR;
                 CDR };
           DIP { DUP;
                 DIP { CAR };
                 CDR };
           DIP { DUP;
                 DIP { CAR };
                 CDR };
           SWAP;
           DROP;
           SWAP;
           PAIR;
           SWAP;
           PAIR;
           DIP { DUP;
                 DIP { CAR };
                 CDR };
           DIP { DUP;
                 DIP { CAR };
                 CDR };
           SWAP;
           DROP;
           SWAP;
           PAIR;
           SWAP;
           PAIR };
     CDR;
     DUP;
     DIP { DIP { DUP };
           DIP { CDR;
                 CAR };
           GET;
           IF_NONE { EMPTY_SET bytes }
                   {  } };
     SWAP;
     PUSH bool True };
UPDATE;
SOME;
SWAP;
DIP { DIP { DUP;
           CDR;
           CAR } };
UPDATE;
DIP { DUP;
     DIP { CAR };
     CDR };
DIP { DUP;
     DIP { CDR };
     CAR };
SWAP;
DROP;
PAIR;
SWAP;
PAIR;
NIL operation;
PAIR }
{ DIP { CDR };
PAIR;
DUP;
CAR;
DIP { CDR };
IF_LEFT { IF_LEFT { IF_LEFT { DIP { DUP;
                                   CDR;
                                   CDR;
                                   CAR;
                                   CDR;
                                   IF { PUSH string "tokenOperationsArePaused";
                                        FAILWITH }
                                      {  } };
                             DUP;
                             CAR;
                             SENDER;
                             COMPARE;
                             EQ;
                             IF {  }
                                { DUP;
                                  CAR;
                                  SWAP;
                                  DUP;
                                  DIP { PACK;
                                        BLAKE2B;
                                        PAIR;
                                        PAIR;
                                        DUP;
                                        DUP;
                                        CAR;
                                        DIP { CDR };
                                        DUP;
                                        CDR;
                                        DIP { SWAP };
                                        DIP { CDR;
                                              CAR };
                                        GET;
                                        IF_NONE { FAILWITH }
                                                { SWAP;
                                                  DIP { DUP };
                                                  CAR;
                                                  MEM;
                                                  IF { DIP { DUP;
                                                             CAR;
                                                             DIP { CDR };
                                                             DUP;
                                                             CAR };
                                                       SWAP;
                                                       DIP { PUSH bool False };
                                                       UPDATE;
                                                       SOME;
                                                       SWAP;
                                                       CDR;
                                                       DIP { DIP { DUP;
                                                                   CDR;
                                                                   CAR } };
                                                       UPDATE;
                                                       DIP { DUP;
                                                             DIP { CAR };
                                                             CDR };
                                                       DIP { DUP;
                                                             DIP { CDR };
                                                             CAR };
                                                       SWAP;
                                                       DROP;
                                                       PAIR;
                                                       SWAP;
                                                       PAIR }
                                                     { FAILWITH } } } };
                             DIP { DUP };
                             SWAP;
                             DIP { DUP };
                             SWAP;
                             CAR;
                             DIP { CAR };
                             GET;
                             IF_NONE { CDR;
                                       CDR;
                                       PUSH nat 0;
                                       SWAP;
                                       PAIR;
                                       PUSH string "NotEnoughBalance";
                                       PAIR;
                                       FAILWITH }
                                     {  };
                             DUP;
                             DIP 2
                                 { DUP };
                             DIG 2;
                             CDR;
                             CDR;
                             SWAP;
                             SUB;
                             ISNAT;
                             IF_NONE { DIP { DUP };
                                       SWAP;
                                       CDR;
                                       CDR;
                                       PAIR;
                                       PUSH string "NotEnoughBalance";
                                       PAIR;
                                       FAILWITH }
                                     {  };
                             SWAP;
                             DROP;
                             DUP;
                             INT;
                             EQ;
                             IF { DROP;
                                  NONE nat }
                                { SOME };
                             SWAP;
                             DUP;
                             DIP { CAR;
                                   DIP { DIP { DUP;
                                               CAR } };
                                   UPDATE;
                                   DIP { DUP;
                                         DIP { CDR };
                                         CAR };
                                   SWAP;
                                   DROP;
                                   PAIR };
                             DUP;
                             DIP { CDR;
                                   CDR;
                                   NEG;
                                   DIP { DUP;
                                         CDR;
                                         CDR;
                                         CDR;
                                         CAR };
                                   ADD;
                                   ISNAT;
                                   IF_NONE { PUSH string "Unexpected: Negative total supply";
                                             FAILWITH }
                                           {  };
                                   DIP { DUP;
                                         CDR;
                                         CDR };
                                   DIP { DUP;
                                         DIP { CAR };
                                         CDR };
                                   DIP { DUP;
                                         DIP { CDR };
                                         CAR };
                                   SWAP;
                                   DROP;
                                   PAIR;
                                   SWAP;
                                   PAIR;
                                   DIP { DUP;
                                         DIP { CAR };
                                         CDR };
                                   DIP { DUP;
                                         DIP { CAR };
                                         CDR };
                                   SWAP;
                                   DROP;
                                   SWAP;
                                   PAIR;
                                   SWAP;
                                   PAIR };
                             DIP { DUP };
                             SWAP;
                             DIP { DUP };
                             SWAP;
                             CDR;
                             CAR;
                             DIP { CAR };
                             GET;
                             IF_NONE { DUP;
                                       CDR;
                                       CDR;
                                       INT;
                                       EQ;
                                       IF { NONE nat }
                                          { DUP;
                                            CDR;
                                            CDR;
                                            SOME } }
                                     { DIP { DUP };
                                       SWAP;
                                       CDR;
                                       CDR;
                                       ADD;
                                       SOME };
                             SWAP;
                             DUP;
                             DIP { CDR;
                                   CAR;
                                   DIP { DIP { DUP;
                                               CAR } };
                                   UPDATE;
                                   DIP { DUP;
                                         DIP { CDR };
                                         CAR };
                                   SWAP;
                                   DROP;
                                   PAIR };
                             CDR;
                             CDR;
                             INT;
                             DIP { DUP;
                                   CDR;
                                   CDR;
                                   CDR;
                                   CAR };
                             ADD;
                             ISNAT;
                             IF_NONE { PUSH string "Unexpected: Negative total supply";
                                       FAILWITH }
                                     {  };
                             DIP { DUP;
                                   CDR;
                                   CDR };
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             DIP { DUP;
                                   DIP { CDR };
                                   CAR };
                             SWAP;
                             DROP;
                             PAIR;
                             SWAP;
                             PAIR;
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             SWAP;
                             DROP;
                             SWAP;
                             PAIR;
                             SWAP;
                             PAIR;
                             NIL operation;
                             PAIR }
                           { DUP;
                             CAR;
                             DIP { CDR;
                                   DIP { DUP };
                                   SWAP };
                             DIP { CAR };
                             GET;
                             IF_NONE { PUSH nat 0 }
                                     {  };
                             DIP { AMOUNT };
                             TRANSFER_TOKENS;
                             NIL operation;
                             SWAP;
                             CONS;
                             PAIR } }
                 { IF_LEFT { DUP;
                             CAR;
                             DIP { CDR;
                                   DIP { DUP };
                                   SWAP };
                             PAIR;
                             CDR;
                             CDR;
                             CDR;
                             CDR;
                             CAR;
                             DIP { AMOUNT };
                             TRANSFER_TOKENS;
                             NIL operation;
                             SWAP;
                             CONS;
                             PAIR }
                           { DIP { DUP;
                                   CDR;
                                   CDR;
                                   CAR;
                                   CAR;
                                   SENDER;
                                   COMPARE;
                                   EQ;
                                   IF {  }
                                      { UNIT;
                                        PUSH string "SenderIsNotAdmin";
                                        PAIR;
                                        FAILWITH } };
                             DIP { DUP;
                                   CDR;
                                   CDR };
                             DIP { DUP;
                                   DIP { CDR };
                                   CAR };
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             SWAP;
                             DROP;
                             SWAP;
                             PAIR;
                             PAIR;
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             SWAP;
                             DROP;
                             SWAP;
                             PAIR;
                             SWAP;
                             PAIR;
                             NIL operation;
                             PAIR } } }
       { IF_LEFT { IF_LEFT { DIP { DUP;
                                   CDR;
                                   CDR;
                                   CAR;
                                   CAR;
                                   SENDER;
                                   COMPARE;
                                   EQ;
                                   IF {  }
                                      { UNIT;
                                        PUSH string "SenderIsNotAdmin";
                                        PAIR;
                                        FAILWITH } };
                             DIP { DUP;
                                   CDR;
                                   CDR };
                             DIP { DUP;
                                   DIP { CDR };
                                   CAR };
                             DIP { DUP;
                                   DIP { CDR };
                                   CAR };
                             SWAP;
                             DROP;
                             PAIR;
                             PAIR;
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             SWAP;
                             DROP;
                             SWAP;
                             PAIR;
                             SWAP;
                             PAIR;
                             NIL operation;
                             PAIR }
                           { DUP;
                             CAR;
                             DIP { CDR;
                                   DIP { DUP };
                                   SWAP };
                             PAIR;
                             CDR;
                             CDR;
                             CDR;
                             CAR;
                             CAR;
                             DIP { AMOUNT };
                             TRANSFER_TOKENS;
                             NIL operation;
                             SWAP;
                             CONS;
                             PAIR } }
                 { IF_LEFT { DIP { DUP;
                                   CDR;
                                   CDR;
                                   CAR;
                                   CAR;
                                   SENDER;
                                   COMPARE;
                                   EQ;
                                   IF {  }
                                      { UNIT;
                                        PUSH string "SenderIsNotAdmin";
                                        PAIR;
                                        FAILWITH } };
                             DIP { DUP };
                             SWAP;
                             DIP { DUP };
                             SWAP;
                             CAR;
                             DIP { CAR };
                             GET;
                             IF_NONE { DUP;
                                       CDR;
                                       INT;
                                       EQ;
                                       IF { NONE nat }
                                          { DUP;
                                            CDR;
                                            SOME } }
                                     { DIP { DUP };
                                       SWAP;
                                       CDR;
                                       ADD;
                                       SOME };
                             SWAP;
                             DUP;
                             DIP { CAR;
                                   DIP { DIP { DUP;
                                               CAR } };
                                   UPDATE;
                                   DIP { DUP;
                                         DIP { CDR };
                                         CAR };
                                   SWAP;
                                   DROP;
                                   PAIR };
                             CDR;
                             INT;
                             DIP { DUP;
                                   CDR;
                                   CDR;
                                   CDR;
                                   CAR };
                             ADD;
                             ISNAT;
                             IF_NONE { PUSH string "Unexpected: Negative total supply";
                                       FAILWITH }
                                     {  };
                             DIP { DUP;
                                   CDR;
                                   CDR };
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             DIP { DUP;
                                   DIP { CDR };
                                   CAR };
                             SWAP;
                             DROP;
                             PAIR;
                             SWAP;
                             PAIR;
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             SWAP;
                             DROP;
                             SWAP;
                             PAIR;
                             SWAP;
                             PAIR;
                             NIL operation;
                             PAIR }
                           { DIP { DUP;
                                   CDR;
                                   CDR;
                                   CAR;
                                   CAR;
                                   SENDER;
                                   COMPARE;
                                   EQ;
                                   IF {  }
                                      { UNIT;
                                        PUSH string "SenderIsNotAdmin";
                                        PAIR;
                                        FAILWITH } };
                             DIP { DUP };
                             SWAP;
                             DIP { DUP };
                             SWAP;
                             CAR;
                             DIP { CAR };
                             GET;
                             IF_NONE { CDR;
                                       PUSH nat 0;
                                       SWAP;
                                       PAIR;
                                       PUSH string "NotEnoughBalance";
                                       PAIR;
                                       FAILWITH }
                                     {  };
                             DUP;
                             DIP 2
                                 { DUP };
                             DIG 2;
                             CDR;
                             SWAP;
                             SUB;
                             ISNAT;
                             IF_NONE { DIP { DUP };
                                       SWAP;
                                       CDR;
                                       PAIR;
                                       PUSH string "NotEnoughBalance";
                                       PAIR;
                                       FAILWITH }
                                     {  };
                             SWAP;
                             DROP;
                             DUP;
                             INT;
                             EQ;
                             IF { DROP;
                                  NONE nat }
                                { SOME };
                             SWAP;
                             DUP;
                             DIP { CAR;
                                   DIP { DIP { DUP;
                                               CAR } };
                                   UPDATE;
                                   DIP { DUP;
                                         DIP { CDR };
                                         CAR };
                                   SWAP;
                                   DROP;
                                   PAIR };
                             CDR;
                             NEG;
                             DIP { DUP;
                                   CDR;
                                   CDR;
                                   CDR;
                                   CAR };
                             ADD;
                             ISNAT;
                             IF_NONE { PUSH string "Unexpected: Negative total supply";
                                       FAILWITH }
                                     {  };
                             DIP { DUP;
                                   CDR;
                                   CDR };
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             DIP { DUP;
                                   DIP { CDR };
                                   CAR };
                             SWAP;
                             DROP;
                             PAIR;
                             SWAP;
                             PAIR;
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             DIP { DUP;
                                   DIP { CAR };
                                   CDR };
                             SWAP;
                             DROP;
                             SWAP;
                             PAIR;
                             SWAP;
                             PAIR;
                             NIL operation;
                             PAIR } } } } };
}`