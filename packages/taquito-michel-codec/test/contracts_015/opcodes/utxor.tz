parameter (pair address address);
storage nat;
code { UNPAIR ; DIP { DUP } ;
       SWAP ;
       PUSH nat 5 ; SWAP ;
       TICKET ;
       ASSERT_SOME ;
       PUSH nat 2 ; PUSH nat 3 ; PAIR ;
       SWAP ;
       SPLIT_TICKET ;
       ASSERT_SOME ;
       UNPAIR ;
       DIP { DIP { DUP ; CAR ;
                   CONTRACT (pair (ticket nat) nat) ; ASSERT_SOME ;
                   PUSH mutez 0 } ;
             PUSH nat 2 ; SWAP ; PAIR ; } ;
       DIP { TRANSFER_TOKENS } ;
       SWAP ;
       DIP { DIP { CDR ;
                   CONTRACT (pair (ticket nat) nat) ; ASSERT_SOME ;
                   PUSH mutez 0 } ;
             PUSH nat 3 ; SWAP ; PAIR ; } ;
       DIP { TRANSFER_TOKENS } ;
       NIL operation ; SWAP ; CONS ; SWAP ; CONS ;
       PAIR }
